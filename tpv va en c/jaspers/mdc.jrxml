<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.3.0.final using JasperReports Library version 6.3.0  -->
<!-- 2016-09-27T09:25:56 -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Movimientos de Caja" pageWidth="595" pageHeight="842" whenNoDataType="AllSectionsNoDetail" columnWidth="535" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="868819c0-2e1e-457b-84c5-82067f527855">
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="hibernate.xml"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<style name="Title" fontName="Times New Roman" fontSize="50" isBold="true" pdfFontName="Times-Bold"/>
	<style name="SubTitle" forecolor="#736343" fontName="Arial" fontSize="18"/>
	<style name="Column header" forecolor="#666666" fontName="Arial" fontSize="12" isBold="true"/>
	<style name="Row" mode="Transparent">
		<conditionalStyle>
			<conditionExpression><![CDATA[$V{REPORT_COUNT}%2 == 0]]></conditionExpression>
			<style backcolor="#E6DAC3"/>
		</conditionalStyle>
	</style>
	<style name="Table">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
			<topPen lineWidth="1.0" lineColor="#000000"/>
			<leftPen lineWidth="1.0" lineColor="#000000"/>
			<bottomPen lineWidth="1.0" lineColor="#000000"/>
			<rightPen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<subDataset name="tableDataset" uuid="184a5705-8f05-4c97-865a-d6c9d31ced02">
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="One Empty Record"/>
		<queryString>
			<![CDATA[]]>
		</queryString>
	</subDataset>
	<parameter name="empresa" class="java.lang.Integer">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[0]]></defaultValueExpression>
	</parameter>
	<parameter name="desde" class="java.util.Date">
		<defaultValueExpression><![CDATA[new Date()]]></defaultValueExpression>
	</parameter>
	<parameter name="hasta" class="java.util.Date">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[new Date()]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT tp.caja.movimiento,
	tp.caja.fecha,
	tp.caja.`cajaPago`,
	tp.caja.descripcion
FROM tp.caja
	INNER JOIN tp.camarero ON 
	 tp.caja.`IdCamarero` = tp.camarero.`IdCamarero` 
	INNER JOIN tp.empresas ON 
	 tp.camarero.`IdEmpresa` = tp.empresas.id where tp.empresas.id =  $P{empresa}  
	 and tp.caja.fecha between  $P{desde} and  $P{hasta}  and cajaPago = 0]]>
	</queryString>
	<field name="movimiento" class="java.lang.Double"/>
	<field name="fecha" class="java.sql.Timestamp"/>
	<field name="cajaPago" class="java.lang.Integer"/>
	<field name="descripcion" class="java.lang.String"/>
	<variable name="movimiento1" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$V{importe}]]></variableExpression>
	</variable>
	<variable name="importe" class="java.lang.Double">
		<variableExpression><![CDATA[$F{movimiento}]]></variableExpression>
	</variable>
	<title>
		<band height="143" splitType="Stretch">
			<image>
				<reportElement x="0" y="0" width="164" height="126" uuid="df48645b-e374-4ac8-a329-8227e73c60f9"/>
				<imageExpression><![CDATA["coffee.jpg"]]></imageExpression>
			</image>
			<image>
				<reportElement x="433" y="-115" width="267" height="209" uuid="3bdc9deb-d1c4-4ee1-aa44-55df0be5c8b3"/>
				<imageExpression><![CDATA["coffee_stain.png"]]></imageExpression>
			</image>
			<textField>
				<reportElement style="Title" x="172" y="10" width="248" height="70" uuid="87f63ec6-7d90-4163-9fe5-dedc2982624c"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial Narrow"/>
				</textElement>
				<textFieldExpression><![CDATA["- Caja " + $P{empresa}+" -"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="170" y="110" width="383" height="16" uuid="ab39d9cc-dcb2-4595-a27d-71faecda540d"/>
				<textFieldExpression><![CDATA["Movimientos de caja desde "+new SimpleDateFormat("dd/MM/yyyy").format($P{desde})+" al "+new SimpleDateFormat("dd/MM/yyyy").format($P{hasta})]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<columnHeader>
		<band height="23">
			<staticText>
				<reportElement x="103" y="2" width="100" height="18" uuid="7242116c-8e25-41c0-88a4-e965dedde9fd"/>
				<text><![CDATA[Movimiento]]></text>
			</staticText>
			<staticText>
				<reportElement x="388" y="2" width="100" height="18" uuid="2607f8b6-1b3e-4099-ad90-f3f63098062d"/>
				<textElement textAlignment="Right"/>
				<text><![CDATA[Importe]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="0" width="90" height="23" uuid="1e4abc45-1e22-44cf-a33b-214a33540d4c"/>
				<text><![CDATA[Fecha]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="19">
			<textField pattern="dd/MM/yyyy HH:mm ">
				<reportElement x="0" y="0" width="100" height="19" uuid="4efde637-cf0d-4ebf-8868-07ec91d3a24d"/>
				<textFieldExpression><![CDATA[$F{fecha}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="100" y="0" width="288" height="19" uuid="4d925065-b6b9-47ae-92b0-cf0c63ed6c7b"/>
				<textFieldExpression><![CDATA[$F{descripcion}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00造;#,##-0.00 造">
				<reportElement x="390" y="0" width="100" height="19" uuid="96ca0522-40af-4d70-87d6-c92ab36e5542"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$V{importe}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<pageFooter>
		<band height="62" splitType="Stretch">
			<frame>
				<reportElement mode="Opaque" x="-20" y="38" width="597" height="24" forecolor="#D0B48E" backcolor="#F2EBDF" uuid="f370a57d-f130-4e84-b9f5-c53b431e92db"/>
				<textField evaluationTime="Report">
					<reportElement style="Column header" x="533" y="0" width="40" height="20" forecolor="#736343" uuid="c6c05541-d642-485d-8bdb-cab31d35d221"/>
					<textElement verticalAlignment="Middle">
						<font size="10" isBold="false"/>
					</textElement>
					<textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement style="Column header" x="453" y="0" width="80" height="20" forecolor="#736343" uuid="cbd3293d-23a4-436e-ac43-493d867d2b16"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="10" isBold="false"/>
					</textElement>
					<textFieldExpression><![CDATA["Page "+$V{PAGE_NUMBER}+" of"]]></textFieldExpression>
				</textField>
				<textField pattern="EEEEE dd MMMMM yyyy">
					<reportElement style="Column header" x="22" y="1" width="197" height="20" forecolor="#736343" uuid="3a6deb2b-90af-40e2-b90d-d18cb599e55a"/>
					<textElement verticalAlignment="Middle">
						<font size="10" isBold="false"/>
					</textElement>
					<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.00造;#,##0.00- 造">
					<reportElement x="410" y="-30" width="98" height="20" uuid="ffc88b86-45be-4623-8975-a99672b7fdd4"/>
					<textElement textAlignment="Right"/>
					<textFieldExpression><![CDATA[$V{movimiento1}]]></textFieldExpression>
				</textField>
			</frame>
			<line>
				<reportElement x="2" y="0" width="573" height="1" uuid="0232269e-9119-4b55-98ec-8eea2da85468"/>
			</line>
			<staticText>
				<reportElement x="330" y="8" width="60" height="20" uuid="cd2e73d8-e5ea-4d17-9c55-d6d432295c70"/>
				<text><![CDATA[TOTAL:]]></text>
			</staticText>
		</band>
	</pageFooter>
</jasperReport>
